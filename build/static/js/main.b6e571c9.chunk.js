(this["webpackJsonpre-store"]=this["webpackJsonpre-store"]||[]).push([[0],{34:function(e,t,n){},36:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(15),o=n.n(i),s=n(6),a=n(2),l=(n(34),function(e){return{type:"BOOK_ADED_TO_CART",payload:e}}),d=function(e){return function(){return function(t){t("FETCH_BOOKS_REQUEST"),e.getBooks().then((function(e){t({type:"FETCH_BOOKS_SUCCESS",payload:e})})).catch((function(e){t({type:"FETCH_BOOKS_FAILUR",payload:e})}))}}},j=n(0),u={onIncrease:l,onDecrese:function(e){return{type:"DECREASE_BOOK_COUNT",payload:e}},onDelete:function(e){return{type:"DELETE_BOOK_FROM_CART",payload:e}}},b=Object(s.b)((function(e){var t=e.shoppingCart;return{items:t.cartItems,total:t.orderTotal}}),u)((function(e){var t=e.items,n=e.total,c=e.onIncrease,r=e.onDecrese,i=e.onDelete;return Object(j.jsxs)("div",{className:"shopping-cart-table",children:[Object(j.jsx)("h2",{children:"Your Order"}),Object(j.jsxs)("table",{className:"table",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"#"}),Object(j.jsx)("th",{children:"Item"}),Object(j.jsx)("th",{children:"Count"}),Object(j.jsx)("th",{children:"Total"}),Object(j.jsx)("th",{children:"Actions"})]})}),Object(j.jsx)("tbody",{children:t.map((function(e,t){var n=e.id,o=e.title,s=e.count,a=e.total;return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:t+1}),Object(j.jsx)("td",{children:o}),Object(j.jsx)("td",{children:s}),Object(j.jsxs)("td",{children:["$ ",a]}),Object(j.jsxs)("td",{className:"cart-button",children:[Object(j.jsx)("button",{onClick:function(){return i(n)},className:"btn btn-outline-danger btn-sm float-right",children:Object(j.jsx)("i",{className:"fa fa-trash-o"})}),Object(j.jsx)("button",{onClick:function(){return c(n)},className:"btn btn-outline-success btn-sm float-right",children:Object(j.jsx)("i",{className:"fa fa-plus-circle"})}),Object(j.jsx)("button",{onClick:function(){return r(n)},className:"btn btn-outline-warning btn-sm float-right",children:Object(j.jsx)("i",{className:"fa fa-minus-circle"})})]})]},n)}))})]}),Object(j.jsxs)("div",{className:"total",children:["Total: $",n]})]})})),O=function(){return Object(j.jsx)(b,{})},h=n(9),m=n(10),p=n(17),x=n(16),f=(n(36),n(7)),v=function(e){var t=e.book,n=e.onAddedToCard,c=t.title,r=t.author,i=t.price,o=t.coverImage;return Object(j.jsxs)("div",{className:"book-list-item",children:[Object(j.jsx)("div",{className:"book-cover",children:Object(j.jsx)("img",{src:o,alt:"cover"})}),Object(j.jsxs)("div",{className:"book-details",children:[Object(j.jsx)(f.b,{to:"/",children:Object(j.jsx)("div",{className:"book-title",children:c})}),Object(j.jsx)("div",{className:"book-author",children:r}),Object(j.jsxs)("div",{className:"book-price",children:["$",i]}),Object(j.jsx)("button",{onClick:n,className:"btn btn-info add-to-cart",children:"Add to cart"})]})]})},g=n(11),_=r.a.createContext(),k=_.Provider,C=_.Consumer,y=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}},T=(n(41),n(42),function(){return Object(j.jsx)("div",{className:"loadingio-spinner-spin-tnqs41ptmho",children:Object(j.jsxs)("div",{className:"ldio-1bxnukadja2",children:[Object(j.jsx)("div",{children:Object(j.jsx)("div",{})}),Object(j.jsx)("div",{children:Object(j.jsx)("div",{})}),Object(j.jsx)("div",{children:Object(j.jsx)("div",{})}),Object(j.jsx)("div",{children:Object(j.jsx)("div",{})}),Object(j.jsx)("div",{children:Object(j.jsx)("div",{})}),Object(j.jsx)("div",{children:Object(j.jsx)("div",{})}),Object(j.jsx)("div",{children:Object(j.jsx)("div",{})}),Object(j.jsx)("div",{children:Object(j.jsx)("div",{})}),Object(j.jsx)("div",{children:Object(j.jsx)("div",{})}),Object(j.jsx)("div",{children:Object(j.jsx)("div",{})}),Object(j.jsx)("div",{children:Object(j.jsx)("div",{})})]})})}),S=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"something has gone terribly wrong"})})},E=n(14),B=function(e){var t=e.books,n=e.onAddedToCard;return Object(j.jsx)("ul",{className:"book-list",children:t.map((function(e){return Object(j.jsxs)("li",{children:[Object(j.jsx)(v,{onAddedToCard:function(){return n(e.id)},book:e})," "]},e.id)}))})},I=function(e){Object(p.a)(n,e);var t=Object(x.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchBooks()}},{key:"render",value:function(){var e=this.props,t=e.books,n=e.loading,c=e.error,r=e.onAddedToCard;return n?Object(j.jsx)(T,{}):c?Object(j.jsx)(S,{}):Object(j.jsx)(B,{onAddedToCard:r,books:t})}}]),n}(c.Component),N=y((function(e){return function(t){return Object(j.jsx)(C,{children:function(n){return Object(j.jsx)(e,Object(g.a)(Object(g.a)({},t),{},{bookstoreService:n}))}})}}),Object(s.b)((function(e){var t=e.bookList;return{books:t.books,loading:t.loading,error:t.error}}),(function(e,t){var n=t.bookstoreService;return Object(E.b)({fetchBooks:d(n),onAddedToCard:l},e)})))(I),A=function(){return Object(j.jsx)("div",{children:Object(j.jsx)(N,{})})},R=(n(43),Object(s.b)((function(e){var t=e.shoppingCart,n=t.cartItems,c=t.orderTotal;return{numItems:n.length,total:c}}))((function(e){var t=e.numItems,n=e.total;return Object(j.jsxs)("header",{className:"shop-header row",children:[Object(j.jsx)(f.b,{to:"/",children:Object(j.jsx)("div",{className:"logo text-dark",children:"ReStore "})}),Object(j.jsx)(f.b,{to:"/cart",children:Object(j.jsxs)("div",{className:"shopping-cart",children:[Object(j.jsx)("i",{className:"cart-icon fa fa-shopping-cart"}),t," items ($",n,")"]})})]})}))),w=function(){return Object(j.jsxs)("main",{role:"main",className:"container",children:[Object(j.jsx)(R,{}),Object(j.jsxs)(a.c,{children:[Object(j.jsx)(a.a,{path:"/",component:A,exact:!0}),Object(j.jsx)(a.a,{path:"/cart",component:O,exact:!0})]})]})},D=function(e){Object(p.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(h.a)(this,n);for(var c=arguments.length,r=new Array(c),i=0;i<c;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(m.a)(n,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(j.jsx)(S,{}):this.props.children}}]),n}(r.a.Component),K=function(e,t){if(void 0===e)return{books:[],loading:!0,error:null};switch(t.type){case"FETCH_BOOKS_SUCCESS":return{books:t.payload,loading:!1,error:null};case"FETCH_BOOKS_REQUEST":return{books:[],loading:!0,error:null};case"FETCH_BOOKS_FAILUR":return{books:[],loading:!1,error:t.payload};default:return e.bookList}},L=n(12),F=function(e,t,n){return 0===t.count?[].concat(Object(L.a)(e.slice(0,n)),Object(L.a)(e.slice(n+1))):-1===n?[].concat(Object(L.a)(e),[t]):[].concat(Object(L.a)(e.slice(0,n)),[t],Object(L.a)(e.slice(n+1)))},H=function(e,t,n){var c=e.bookList.books,r=e.shoppingCart,i=r.cartItems,o=r.orderTotal,s=c.find((function(e){return e.id===t})),a=i.findIndex((function(e){return e.id===t})),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,c=t.id,r=void 0===c?e.id:c,i=t.count,o=void 0===i?0:i,s=t.title,a=void 0===s?e.title:s,l=t.total;return{id:r,title:a,count:o+n,total:(void 0===l?0:l)+n*e.price}}(s,i[a],n);return{orderTotal:o+n*s.price,cartItems:F(i,l,a)}},U=function(e,t){if(void 0===e)return{cartItems:[],orderTotal:0};switch(t.type){case"BOOK_ADED_TO_CART":return H(e,t.payload,1);case"DECREASE_BOOK_COUNT":return H(e,t.payload,-1);case"DELETE_BOOK_FROM_CART":var n=e.shoppingCart.cartItems.find((function(e){return e.id===t.payload}));return H(e,t.payload,-n.count);default:return e.shoppingCart}},M=n(24),z=Object(E.c)((function(e,t){return{shoppingCart:U(e,t),bookList:K(e,t)}}),Object(E.a)(M.a,(function(){return function(e){return function(t){return e("string"===typeof t?{type:t}:t)}}}))),J=[{id:1,title:"Production-Ready Microservices",author:"Susan J. Fowler",price:32,coverImage:"https://images-na.ssl-images-amazon.com/images/I/41yJ75gpV-L._SX381_BO1,204,203,200_.jpg"},{id:2,title:"Release It!",author:"Michael T. Nygard",price:45,coverImage:"https://images-na.ssl-images-amazon.com/images/I/414CRjLjwgL._SX403_BO1,204,203,200_.jpg"},{id:3,title:"Billy SummersBilly",author:"Stephen King",price:18,coverImage:"https://images-na.ssl-images-amazon.com/images/I/51f2iIrG6TL._AC_SX184_.jpg"},{id:4,title:"Time for School, Little Blue Truck",author:"Alice Schertle",price:9,coverImage:"https://images-na.ssl-images-amazon.com/images/I/51E+TsPtBJS._AC_SX184_.jpg"},{id:5,title:"Adulting: How to Become a Grown-up in 535 Easy(ish) Steps",author:"Kelly Williams Brown",price:12,coverImage:"https://images-na.ssl-images-amazon.com/images/I/51TG+5t0VSL._SY344_BO1,204,203,200_.jpg"},{id:6,title:"The Body Keeps the Score: Brain, Mind, and Body in the Healing of Trauma",author:" Bessel van der Kolk M.D.",price:45,coverImage:"https://images-na.ssl-images-amazon.com/images/I/41D3enj6JVS._SX324_BO1,204,203,200_.jpg"}],X=new(function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,[{key:"getBooks",value:function(){return new Promise((function(e,t){setTimeout((function(){e(J)}),700)}))}}]),e}());o.a.render(Object(j.jsx)(s.a,{store:z,children:Object(j.jsx)(D,{children:Object(j.jsx)(k,{value:X,children:Object(j.jsx)(f.a,{children:Object(j.jsx)(w,{})})})})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.b6e571c9.chunk.js.map